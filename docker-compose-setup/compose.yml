services:
  playwright-mcp:
    image: mcr.microsoft.com/playwright:v1.49.1-noble
    container_name: playwright-mcp-server
    ports:
      - "8931:8931"
    environment:
      - PLAYWRIGHT_BROWSERS_PATH=/ms-playwright
      - PLAYWRIGHT_CHROMIUM_ARGS=--no-sandbox --disable-setuid-sandbox
    command: >
      sh -c "
        npx playwright install chrome &&
        npm install -g @playwright/mcp@latest &&
        npx @playwright/mcp@latest --port 8931 --headless --isolated --no-sandbox
      "
    restart: unless-stopped
    networks:
      - mcp-network

networks:
  mcp-network:
    name: mcp-network
    driver: bridge
